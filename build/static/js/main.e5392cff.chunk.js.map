{"version":3,"sources":["components/ticket/ticket-info/ticket-info.module.scss","components/tabs/tabs.module.scss","components/tickets-all/tickets-all.module.scss","components/ticket/tiket.module.scss","components/filters/checkbox/checkbox.module.scss","components/header/header.module.scss","components/spinner/spinner.module.scss","components/filters/filters.module.scss","components/main/main.module.scss","redux/state.js","helpers/filter-tickets.js","helpers/sort-functions.js","helpers/calc-loading-progress.js","redux/reducer.js","helpers/compose-enhancers.js","redux/store.js","components/header/Logo.png","components/header/header.js","components/tabs/tab-button.js","services/aviasales-api.js","redux/actions.js","components/tabs/tabs.js","helpers/format-time.js","components/ticket/ticket-info/ticket-info.js","components/ticket/ticket.js","components/spinner/spinner.js","components/tickets-all/more-button.js","components/tickets-all/no-tickets-message.js","components/tickets-all/tickets-all.js","components/main/main.js","components/filters/checkbox/checkbox.js","components/filters/filters.js","components/app/app.js","index.js"],"names":["module","exports","state","searchId","tickets","howManyTicketsToShow","stop","sort","price","time","optimal","filters","zero","one","two","three","filterAll","loading","loadingProgress","loadingProgressDelete","error","filterTickets","n","filter","map","t","segments","some","s","stops","length","visible","sortPriceFunc","order","a","b","sortFunctions","sortTimeFunc","aDuration","duration","bDuration","sortTimeFunction","sortOptimalFunc","optimalSort","timeAverage","reduce","sortPrice","filterMinPriceAndTime","Set","sortOptimalFunction","calcLoadingProgress","percent","reducer","initialState","action","all","type","ticketsWithId","ticket","id","uuid","ticket1","ticket2","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","reduxThunk","Header","className","classes","header","logo","src","alt","TabButton","active","text","classNames","btn","onClick","AviasalesApi","fetch","then","response","ok","Error","status","json","body","console","log","aviasalesApi","fetchTicketsSuccess","fetchTicketsError","getSearchIdSuccess","getSearchId","dispatch","stopFetching","fetchTickets","getTickets","result","sortTime","sortOptimal","filterAllFunc","filterZeroFunc","filterOneFunc","filterTwoFunc","filterThreeFunc","removeLoadingProgress","finishLoadingProgress","setTimeout","showMoreTickets","connect","actions","tabs","addZeroIfNeeds","formatTime","date","hours","Date","getHours","minutes","getMinutes","TicketInfo","details","transfers","destination","origin","stopsArr","date2","getTime","time1","time2","durationHours","Math","floor","durationMinutes","join","infoTitle","info","Ticket","carrier","ticketSegments","segment","i","Spinner","MoreButton","func","NoTicketsMessage","noTicketsMessage","TicketsAll","this","props","ticketsData","spinner","slice","moreBtn","React","Component","Main","main","Checkbox","checked","textMob","parseInt","checkbox","onChange","role","tabIndex","onKeyDown","htmlFor","sidebar","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e5392cff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"one\":\"ticket-info_one__28USy\",\"infoTitle\":\"ticket-info_infoTitle__3Ioy7\",\"info\":\"ticket-info_info__1_Lf7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"tabs_tabs__2yO4y\",\"btn\":\"tabs_btn__3IzjR\",\"active\":\"tabs_active__1weiv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"tickets-all_btn__3NRus\",\"noTicketsMessage\":\"tickets-all_noTicketsMessage__2C4Y1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visible\":\"tiket_visible__3738l\",\"invisible\":\"tiket_invisible__2Yfu5\",\"ticket\":\"tiket_ticket__v6k5n\",\"header\":\"tiket_header__1PV8a\",\"price\":\"tiket_price__1V_Jo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"checkbox_checkbox__3OIWQ\",\"text\":\"checkbox_text__1YN3x\",\"textMob\":\"checkbox_textMob__TF-Mt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2TKYz\",\"logo\":\"header_logo__72Pr_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader-wrap\":\"spinner_loader-wrap__1Y83U\",\"lds-ellipsis\":\"spinner_lds-ellipsis__2JbT3\",\"lds-ellipsis1\":\"spinner_lds-ellipsis1__3vz7I\",\"lds-ellipsis2\":\"spinner_lds-ellipsis2__9bUkW\",\"lds-ellipsis3\":\"spinner_lds-ellipsis3__36qgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"filters_sidebar__2twNZ\",\"header\":\"filters_header__1_fSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__HBJ87\"};","const state = {\n  searchId: null,\n  tickets: [],\n  howManyTicketsToShow: 5,\n  stop: false,\n  sort: { price: true, time: false, optimal: false },\n  filters: { zero: true, one: true, two: true, three: true },\n  filterAll: true,\n  loading: true,\n  loadingProgress: 0,\n  loadingProgressDelete: false,\n  error: 0,\n};\n\nexport default state;\n","export const filterTickets = (tickets, n, filter) => {\n  return [...tickets].map((t) => {\n    if (t.segments.some((s) => s.stops.length === n)) {\n      return { ...t, visible: !filter };\n    }\n    if (typeof n !== 'number') {\n      return { ...t, visible: !filter };\n    }\n    return { ...t };\n  });\n};\n","export const sortFunctions = (state, tickets, price) => {\n  let order = true;\n\n  return (state, tickets, price) => {\n    order = price ? !order : true;\n    return {\n      ...state,\n      tickets: [...tickets].sort((a, b) => (order ? a.price - b.price : b.price - a.price)),\n      sort: { price: true, time: false, optimal: false },\n    };\n  };\n};\nexport const sortPriceFunc = sortFunctions();\n\nexport const sortTimeFunction = (state, tickets, time) => {\n  let order = true;\n\n  return (state, tickets, time) => {\n    order = time ? !order : true;\n\n    return {\n      ...state,\n      tickets: [...tickets].sort((a, b) => {\n        const aDuration = a.segments[0].duration + a.segments[1].duration;\n        const bDuration = b.segments[0].duration + b.segments[1].duration;\n        return order ? aDuration - bDuration : bDuration - aDuration;\n      }),\n      sort: { price: false, time: true, optimal: false },\n    };\n  };\n};\nexport const sortTimeFunc = sortTimeFunction();\n\nexport const sortOptimalFunction = (state, tickets, optimalSort) => {\n  let order = true;\n\n  return (state, tickets, optimal) => {\n    order = optimal ? !order : true;\n    const timeAverage =\n      [...tickets].map((t) => t.segments[0].duration + t.segments[1].duration).reduce((a, b) => a + b) /\n      (tickets.length * 2);\n    const sortPrice = [...tickets].sort((a, b) => a.price - b.price);\n    const filterMinPriceAndTime = [...sortPrice].filter((t) => {\n      return order\n        ? t.segments[0].duration <= timeAverage && t.segments[1].duration <= timeAverage\n        : t.segments[0].duration > timeAverage && t.segments[1].duration > timeAverage;\n    });\n    const optimalSort = new Set([...filterMinPriceAndTime, ...sortPrice]);\n\n    return {\n      ...state,\n      tickets: [...optimalSort],\n      sort: { price: false, time: false, optimal: true },\n    };\n  };\n};\nexport const sortOptimalFunc = sortOptimalFunction();\n","const calcLoadingProgress = (stop, tickets) => {\n  const percent = (tickets.length * 100) / 9000;\n  const correctPercent = percent > 100 ? 100 : percent;\n  return stop ? 100 : correctPercent;\n};\n\nexport default calcLoadingProgress;\n","import { v4 as uuid } from 'uuid';\nimport initialState from './state';\nimport { filterTickets } from '../helpers/filter-tickets';\nimport { sortOptimalFunc, sortPriceFunc, sortTimeFunc } from '../helpers/sort-functions';\nimport calcLoadingProgress from '../helpers/calc-loading-progress';\n\nconst reducer = (state = initialState, action) => {\n  const {\n    error,\n    filters: { zero, one, two, three },\n    filterAll: all,\n    howManyTicketsToShow,\n    sort: { price, time, optimal },\n    stop,\n    tickets,\n  } = state;\n\n  switch (action.type) {\n    case 'STOP_FETCHING':\n      return {\n        ...state,\n        stop: true,\n      };\n\n    case 'GET_SEARCH_ID_SUCCESS':\n      return {\n        ...state,\n        searchId: action.searchId,\n      };\n\n    case 'FETCH_TICKETS_SUCCESS': {\n      const ticketsWithId = [...action.tickets].map((ticket) => ({ id: uuid(), visible: true, ...ticket }));\n      return {\n        ...state,\n        tickets: [...tickets, ...ticketsWithId].sort((ticket1, ticket2) => ticket1.price - ticket2.price),\n        loading: false,\n      };\n    }\n\n    case 'FETCH_TICKETS_ERROR':\n      return {\n        ...state,\n        loading: false,\n        error: error + 1,\n      };\n\n    case 'SORT_PRICE':\n      return sortPriceFunc(state, tickets, price);\n\n    case 'SORT_TIME':\n      return sortTimeFunc(state, tickets, time);\n\n    case 'SORT_OPTIMAL':\n      return sortOptimalFunc(state, tickets, optimal);\n\n    case 'FILTER_ALL':\n      return {\n        ...state,\n        tickets: filterTickets(tickets, null, all),\n        filterAll: !all,\n        filters: { zero: !all, one: !all, two: !all, three: !all },\n      };\n\n    case 'FILTER_ZERO':\n      return {\n        ...state,\n        tickets: filterTickets(tickets, 0, zero),\n        filters: { zero: !zero, one, two, three },\n        filterAll: !zero === true && one === true && two === true && three === true,\n      };\n\n    case 'FILTER_ONE':\n      return {\n        ...state,\n        tickets: filterTickets(tickets, 1, one),\n        filters: { zero, one: !one, two, three },\n        filterAll: !one === true && zero === true && two === true && three === true,\n      };\n\n    case 'FILTER_TWO':\n      return {\n        ...state,\n        tickets: filterTickets(tickets, 2, two),\n        filters: { zero, one, two: !two, three },\n        filterAll: !two === true && zero === true && one === true && three === true,\n      };\n\n    case 'FILTER_THREE':\n      return {\n        ...state,\n        tickets: filterTickets(tickets, 3, three),\n        filters: { zero, one, two, three: !three },\n        filterAll: !three === true && zero === true && one === true && two === true,\n      };\n\n    case 'SHOW_MORE_TICKETS':\n      return {\n        ...state,\n        howManyTicketsToShow: howManyTicketsToShow + 5,\n      };\n\n    case 'LOADING_PROGRESS':\n      return {\n        ...state,\n        loadingProgress: calcLoadingProgress(stop, tickets),\n      };\n\n    case 'REMOVE_LOADING_PROGRESS':\n      return {\n        ...state,\n        loadingProgressDelete: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { compose } from 'redux';\n\nexport const composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n","import { applyMiddleware, createStore } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport rootReducer from './reducer';\nimport { composeEnhancers } from '../helpers/compose-enhancers';\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(reduxThunk)));\n\nexport default store;\n","export default __webpack_public_path__ + \"static/media/Logo.1b6f90ed.png\";","import React from 'react';\nimport classes from './header.module.scss';\nimport logo from './Logo.png';\n\n\nconst Header = () => (\n  <div className={classes.header}>\n    <img className={classes.logo} src={logo} alt=\"logo\" />\n  </div>\n);\n\nexport default Header;\n","import React from 'react';\nimport classes from './tabs.module.scss';\n\nconst TabButton = ({ active, text, sort }) => {\n  const classNames = active ? `${classes.btn} ${classes.active}` : classes.btn;\n\n  return (\n    <button onClick={sort} type=\"button\" className={classNames}>\n      {text}\n    </button>\n  );\n};\n\nexport default TabButton;\n","export default class AviasalesApi {\n  async getSearchId() {\n    return fetch('https://front-test.beta.aviasales.ru/search')\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`Ошибка, статус ошибки ${response.status}`);\n        }\n        return response.json();\n      })\n      .then((body) => body.searchId);\n  }\n\n  async getTickets(searchId) {\n    return fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`).then((response) => {\n      if (!response.ok) {\n        throw new Error(`Ошибка, статус ошибки ${response.status}`);\n      }\n      console.log(response);\n      return response.json();\n    });\n  }\n}\n","import AviasalesApi from '../services/aviasales-api';\n\nconst aviasalesApi = new AviasalesApi();\n\nexport const fetchTicketsSuccess = (tickets) => ({ type: 'FETCH_TICKETS_SUCCESS', tickets });\n\nexport const fetchTicketsError = () => ({ type: 'FETCH_TICKETS_ERROR' });\n\nexport const getSearchIdSuccess = (searchId) => ({ type: 'GET_SEARCH_ID_SUCCESS', searchId });\n\nexport const getSearchId = () => (dispatch) => {\n  aviasalesApi.getSearchId().then(\n    (searchId) => {\n      dispatch(getSearchIdSuccess(searchId));\n    },\n    () => dispatch(fetchTicketsError())\n  );\n};\n\nexport const stopFetching = () => ({ type: 'STOP_FETCHING' });\n\nexport const fetchTickets = (searchId) => (dispatch) => {\n  aviasalesApi.getTickets(searchId).then(\n    (result) => {\n      if (result.stop) {\n        dispatch(stopFetching());\n      } else {\n        dispatch(fetchTicketsSuccess(result.tickets));\n      }\n    },\n    () => {\n      dispatch(fetchTicketsError());\n    }\n  );\n};\n\nexport const sortPrice = () => ({ type: 'SORT_PRICE' });\n\nexport const sortTime = () => ({ type: 'SORT_TIME' });\n\nexport const sortOptimal = () => ({ type: 'SORT_OPTIMAL' });\n\nexport const filterAllFunc = () => ({ type: 'FILTER_ALL' });\n\nexport const filterZeroFunc = () => ({ type: 'FILTER_ZERO' });\n\nexport const filterOneFunc = () => ({ type: 'FILTER_ONE' });\n\nexport const filterTwoFunc = () => ({ type: 'FILTER_TWO' });\n\nexport const filterThreeFunc = () => ({ type: 'FILTER_THREE' });\n\nexport const calcLoadingProgress = () => ({ type: 'LOADING_PROGRESS' });\n\nexport const removeLoadingProgress = () => ({ type: 'REMOVE_LOADING_PROGRESS' });\n\nexport const finishLoadingProgress = () => (dispatch) => {\n  setTimeout(() => {\n    dispatch(removeLoadingProgress());\n  }, 2000);\n};\n\nexport const showMoreTickets = () => ({ type: 'SHOW_MORE_TICKETS' });\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport classes from './tabs.module.scss';\nimport TabButton from './tab-button';\nimport * as actions from '../../redux/actions';\n\nconst Tabs = ({ price, time, optimal, sortPrice, sortTime, sortOptimal }) => (\n  <div className={classes.tabs}>\n    <TabButton active={price} sort={sortPrice} text=\"самый дешевый\" />\n    <TabButton active={time} sort={sortTime} text=\"самый быстрый\" />\n    <TabButton active={optimal} sort={sortOptimal} text=\"оптимальный\" />\n  </div>\n);\n\nconst mapStateToProps = ({ sort: { price, time, optimal } }) => ({ price, time, optimal });\n\nexport default connect(mapStateToProps, actions)(Tabs);\n","const addZeroIfNeeds = (time) => {\n  return time > 9 ? time : '0' + time;\n};\n\nconst formatTime = (date) => {\n  const hours = new Date(date).getHours();\n  const minutes = new Date(date).getMinutes();\n  return addZeroIfNeeds(hours) + ':' + addZeroIfNeeds(minutes);\n};\n\nexport default formatTime;\n","import React from 'react';\nimport classes from './ticket-info.module.scss';\nimport formatTime from '../../../helpers/format-time';\n\nconst TicketInfo = ({ details }) => {\n  const { transfers, date, destination, duration, origin, stops: stopsArr } = details;\n\n  const date2 = new Date(new Date(date).getTime() + new Date(duration * 60 * 100).getTime());\n\n  const time1 = formatTime(date);\n  const time2 = formatTime(date2);\n\n  const durationHours = Math.floor(duration / 60);\n  const durationMinutes = duration - durationHours * 60;\n\n  const stops = stopsArr.join(', ');\n\n  return (\n    <>\n      <div className={classes.one}>\n        <div className={classes.infoTitle}>{`${origin} ${destination}`}</div>\n        <div className={classes.infoTitle}>в пути</div>\n        <div className={classes.infoTitle}>{transfers} пересадки</div>\n      </div>\n      <div className={classes.one}>\n        <div className={classes.info}>{`${time1}-${time2}`}</div>\n        <div className={classes.info}>{`${durationHours}ч ${durationMinutes}м`}</div>\n        <div className={classes.info}>{stops}</div>\n      </div>\n    </>\n  );\n};\n\nexport default TicketInfo;\n","import React from 'react';\nimport '../app/app.scss';\nimport classes from './tiket.module.scss';\nimport TicketInfo from './ticket-info/ticket-info';\n\nconst Ticket = ({ price, carrier, segments }) => {\n  const logo = 'https://pics.avs.io/99/36/' + carrier + '.png';\n  const ticketSegments = segments.map((segment, i) => <TicketInfo key={i} details={segment} />);\n\n  return (\n    <div className={classes.ticket}>\n      <div className={classes.header}>\n        <div className={classes.price}>{`${price} Р`}</div>\n        <img src={logo} alt=\"\" />\n      </div>\n      {ticketSegments}\n    </div>\n  );\n};\n\nexport default Ticket;\n","\nimport React from 'react';\nimport classes from './spinner.module.scss';\n\nconst Spinner = () => (\n    <div className={classes['loader-wrap']}>\n        Загрузка билетов...\n        <div className={classes['lds-ellipsis']}>\n            <div />\n            <div />\n            <div />\n        </div>\n    </div>\n);\n\nexport default Spinner;","import React from 'react';\nimport classes from './tickets-all.module.scss';\n\nconst MoreButton = ({ func }) => {\n  return (\n    <button onClick={func} type=\"button\" className={classes.btn}>\n      ПОКАЗАТЬ ЕЩЁ 5 БИЛЕТОВ!\n    </button>\n  );\n};\n\nexport default MoreButton;\n","import React from 'react';\nimport classes from './tickets-all.module.scss';\n\nconst NoTicketsMessage = () => (\n    <div className={classes.noTicketsMessage}>\n      <span>Рейсов, подходящих под заданный фильтр, не найдено.</span>\n    </div>\n  );\n\nexport default NoTicketsMessage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport classes from './tickets-all.module.scss';\nimport Ticket from '../ticket/ticket';\nimport Spinner from '../spinner/spinner';\nimport MoreButton from './more-button';\nimport NoTicketsMessage from './no-tickets-message';\nimport * as actions from '../../redux/actions';\n\nclass TicketsAll extends React.Component {\n  componentDidMount() {\n    const { getSearchId } = this.props;\n    getSearchId();\n  }\n\n  componentDidUpdate() {\n    const { fetchTickets, stop, searchId } = this.props;\n    if (!stop) {\n      fetchTickets(searchId);\n    }\n  }\n\n  render() {\n    const { howManyTicketsToShow, loading, stop, showMoreTickets, tickets: ticketsData } = this.props;\n\n    const spinner = loading ? <Spinner /> : null;\n    const tickets = ticketsData\n      .map(({ id, visible, ...ticket }) => (visible ? <Ticket key={id} {...ticket} /> : null))\n      .filter((t) => t !== null)\n      .slice(0, howManyTicketsToShow);\n\n    const noTicketsMessage = stop && !tickets.length ? <NoTicketsMessage /> : null;\n    const moreBtn = tickets.length < 5 ? null : <MoreButton func={showMoreTickets} />;\n\n    return (\n      <>\n        {spinner}\n        {tickets}\n        {noTicketsMessage}\n        {moreBtn}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({ tickets, loading, error, stop, searchId, howManyTicketsToShow }) => ({\n  tickets,\n  loading,\n  error,\n  stop,\n  searchId,\n  howManyTicketsToShow,\n});\n\nexport default connect(mapStateToProps, actions)(TicketsAll);\n","import React from 'react';\nimport classes from './main.module.scss';\nimport Tabs from '../tabs/tabs';\nimport TicketsAll from '../tickets-all/tickets-all';\n\nconst Main = () => (\n  <div className={classes.main}>\n    <Tabs />\n    <TicketsAll />\n  </div>\n);\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classes from './checkbox.module.scss';\n\nconst Checkbox = ({ checked, text, func }) => {\n  const textMob = text === 'Все' ? text : parseInt(text, 10) || '0';\n\n  return (\n    <div className={classes.checkbox}>\n      <input id={text} type=\"checkbox\" checked={checked} onChange={func} />\n\n      <span aria-label=\"checkbox\" role=\"checkbox\" tabIndex=\"0\" aria-checked={checked} onClick={func} onKeyDown={func} />\n\n      <label htmlFor={text} className={classes.text}>\n        {text}\n      </label>\n      <label htmlFor={text} className={classes.textMob}>\n        {textMob}\n      </label>\n    </div>\n  );\n};\n\nCheckbox.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default Checkbox;\n","import React from 'react';\nimport Checkbox from './checkbox/checkbox';\nimport classes from './filters.module.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions';\n\nconst Filters = ({\n  zero,\n  one,\n  two,\n  three,\n  all,\n  filterAllFunc,\n  filterZeroFunc,\n  filterOneFunc,\n  filterTwoFunc,\n  filterThreeFunc,\n}) => (\n  <div className={classes.sidebar}>\n    <p className={classes.header}>количество пересадок</p>\n    <Checkbox checked={all} func={filterAllFunc} text=\"Все\" />\n    <Checkbox checked={zero} func={filterZeroFunc} text=\"Без пересадок\" />\n    <Checkbox checked={one} func={filterOneFunc} text=\"1 пересадка\" />\n    <Checkbox checked={two} func={filterTwoFunc} text=\"2 пересадки\" />\n    <Checkbox checked={three} func={filterThreeFunc} text=\"3 пересадки\" />\n  </div>\n);\n\nconst mapStateToProps = ({ filters: { zero, one, two, three }, filterAll: all }) => ({ zero, one, two, three, all });\n\nexport default connect(mapStateToProps, actions)(Filters);\n","import React from 'react';\nimport './app.scss';\nimport Header from '../header/header';\nimport Main from '../main/main';\nimport Sidebar from '../filters/filters';\n\nconst App = () => (\n  <section className=\"app\">\n    <Header />\n    <Sidebar />\n    <Main />\n  </section>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './components/app/app';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}